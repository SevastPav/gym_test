<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<ui:composition>
    <ui:include src="../components/record/trainingRecord.xhtml"/>
    <div class="container">
        <div class="row">
            <div class="col">
                <h4>Понедельник - #{timeTableBean.weekService.monday}</h4>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <h4>Воскресенье - #{timeTableBean.weekService.sunday}</h4>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <table class="table">
                    <thead class="thead-dark">
                    <tr>
                        <th scope="col"/>
                        <th scope="col">Понедельник</th>
                        <th scope="col">Вторник</th>
                        <th scope="col">Среда</th>
                        <th scope="col">Четверг</th>
                        <th scope="col">Пятница</th>
                        <th scope="col">Суббота</th>
                        <th scope="col">Воскресенье</th>
                    </tr>
                    </thead>
                    <tbody>
                    <ui:repeat var="time" value="#{timeTableBean.getAllTimes()}" varStatus="status">
                        <tr>
                            <th scope="row">#{time}</th>
                            <td>
                                <h:form>
                                    <p:commandLink
                                            value="#{timeTableBean.getTrainingTitleByDateTime(timeTableBean.weekService.monday, time)}"
                                            oncomplete="PF('trainingRecordDlg').show();"
                                            actionListener="#{timeTableBean.attrListener}"
                                            update=":#{p:component('trainingRecordDlg')}">
                                        <f:attribute name="training"
                                                     value="#{timeTableBean.getTrainingByDateTime(timeTableBean.weekService.monday, time)}"/>
                                    </p:commandLink>
                                </h:form>
                            </td>
                            <td>
                                <h:form>
                                    <p:commandLink
                                            value="#{timeTableBean.getTrainingTitleByDateTime(timeTableBean.weekService.tuesday, time)}"
                                            oncomplete="PF('trainingRecordDlg').show();"
                                            actionListener="#{timeTableBean.attrListener}"
                                            update=":#{p:component('trainingRecordDlg')}">
                                        <f:attribute name="training"
                                                     value="#{timeTableBean.getTrainingByDateTime(timeTableBean.weekService.tuesday, time)}"/>
                                    </p:commandLink>
                                </h:form>
                            </td>
                            <td>
                                <h:form>
                                    <p:commandLink
                                            value="#{timeTableBean.getTrainingTitleByDateTime(timeTableBean.weekService.wednesday, time)}"
                                            oncomplete="PF('trainingRecordDlg').show();"
                                            actionListener="#{timeTableBean.attrListener}"
                                            update=":#{p:component('trainingRecordDlg')}">
                                        <f:attribute name="training"
                                                     value="#{timeTableBean.getTrainingByDateTime(timeTableBean.weekService.wednesday, time)}"/>
                                    </p:commandLink>
                                </h:form>
                            </td>
                            <td>
                                <h:form>
                                    <p:commandLink
                                            value="#{timeTableBean.getTrainingTitleByDateTime(timeTableBean.weekService.thursday, time)}"
                                            oncomplete="PF('trainingRecordDlg').show();"
                                            actionListener="#{timeTableBean.attrListener}"
                                            update=":#{p:component('trainingRecordDlg')}">
                                        <f:attribute name="training"
                                                     value="#{timeTableBean.getTrainingByDateTime(timeTableBean.weekService.thursday, time)}"/>
                                    </p:commandLink>
                                </h:form>
                            </td>
                            <td>
                                <h:form>
                                    <p:commandLink
                                            value="#{timeTableBean.getTrainingTitleByDateTime(timeTableBean.weekService.friday, time)}"
                                            oncomplete="PF('trainingRecordDlg').show();"
                                            actionListener="#{timeTableBean.attrListener}"
                                            update=":#{p:component('trainingRecordDlg')}">
                                        <f:attribute name="training"
                                                     value="#{timeTableBean.getTrainingByDateTime(timeTableBean.weekService.friday, time)}"/>
                                    </p:commandLink>
                                </h:form>
                            </td>
                            <td>
                                <h:form>
                                    <p:commandLink
                                            value="#{timeTableBean.getTrainingTitleByDateTime(timeTableBean.weekService.saturday, time)}"
                                            oncomplete="PF('trainingRecordDlg').show();"
                                            actionListener="#{timeTableBean.attrListener}"
                                            update=":#{p:component('trainingRecordDlg')}">
                                        <f:attribute name="training"
                                                     value="#{timeTableBean.getTrainingByDateTime(timeTableBean.weekService.saturday, time)}"/>
                                    </p:commandLink>
                                </h:form>
                            </td>
                            <td>
                                <h:form>
                                    <p:commandLink
                                            value="#{timeTableBean.getTrainingTitleByDateTime(timeTableBean.weekService.sunday, time)}"
                                            oncomplete="PF('trainingRecordDlg').show();"
                                            actionListener="#{timeTableBean.attrListener}"
                                            update=":#{p:component('trainingRecordDlg')}">
                                        <f:attribute name="training"
                                                     value="#{timeTableBean.getTrainingByDateTime(timeTableBean.weekService.sunday, time)}"/>
                                    </p:commandLink>
                                </h:form>
                            </td>
                        </tr>
                    </ui:repeat>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

</ui:composition>
</html>